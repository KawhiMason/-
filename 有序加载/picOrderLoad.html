<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>图片预加载</title>
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<style type="text/css">
*{
	margin: 0;
	padding: 0;
}
html,body{
	height: 100%;
}
.box{
	text-align: center;
}
.btn{
	display: inline-block;
	height: 30px;
	line-height: 30px;
	border: 1px solid #eaeaea;
	background:#fff;
	padding: 0 10px;
	margin-right: 50px;
	color: #333;
	text-decoration: none;
}
.btn:hover {
	background-color: #fff;
}
</style>
</head>
<body>
	<div class="box">
		<img src="http://img1.imgtn.bdimg.com/it/u=2064054871,2037178638&fm=200&gp=0.jpg" id="img" alt="pic">
		<div>
			<a href="javascript:;" class="btn" data-control = "prev">上一页</a>
			<a href="javascript:;" class="btn" data-control = "next">下一页</a>
		</div>
	</div>
<script type="text/javascript" >
		var imgs = [
		'http://img1.imgtn.bdimg.com/it/u=2064054871,2037178638&fm=200&gp=0.jpg',
		'http://img4.imgtn.bdimg.com/it/u=2331230572,2077140484&fm=200&gp=0.jpg',
		'http://img5.imgtn.bdimg.com/it/u=1815887154,3236748813&fm=200&gp=0.jpg',
		'http://img0.imgtn.bdimg.com/it/u=4258308838,1748608824&fm=200&gp=0.jpg'
	];

	var index = 0,
		len = imgs.length,
		count = 0;

		load();
		function load(){
			var imgObj = new Image();

			$(imgObj).on('load error',function(){
				if(count>=len){

				}else{
					load();
				}
				count++;
			})
			imgObj.src = imgs[count];
		}


	$('.btn').on('click',function () {
		if($(this).data('control') === 'prev'){
			index = Math.max(0,--index);
		}else{
			index= Math.min(len-1,++index);
		}
		$('img').attr('src',imgs[index]);
	})


	
</script>
</body>
</html>